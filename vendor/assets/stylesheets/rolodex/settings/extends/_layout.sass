// Layout
// ========================================

// Image replacement

.ir,
%ir
  color: transparent
  font: 0/0 a
  text-shadow: none

// Borders

%border-gray-light
  border-color: $gray-light

%border-base
  @extend %border-gray-light
  +rem(border-width, 1px)
  border-style: solid

@each $radius, $i in $radii
  %border-radius-#{$radius}
    +rem(border-radius, $i)
  
// Box overlay

.box-overlay,
%box-overlay
  @extend %background-white
  border-color: $blue
  +rem(border-width, 1px)
  border-style: solid
  @extend %border-radius-base
  +rem(box-shadow, 0 0 0 4px rgba($black, .06))

// Alignments

@each $align in $alignments
  %vertical-align-#{$align}
    vertical-align: $align

// Displays

@each $display in $displays
  .display-#{$display},
  %display-#{$display}
    display: $display

// Floats

@each $float in $floats
  .pull-#{$float},
  %pull-#{$float}
    float: $float

// Overflows

@each $overflow in $overflows
  %overflow-#{$overflow}
    overflow: $overflow

// Positions

@each $position in $positions
  .position-#{$position},
  %position-#{$position}
    position: $position

// Clearfix

.group,
%group
  &:before,
  &:after
    @extend %content-empty
    @extend %display-table
  &:after
    clear: both

// Centering
// ========================================

%left-50
  left: 50%

%top-50
  top: 50%

%center-x
  @extend %left-50
  transform: translateX(-50%)

%center-y
  @extend %top-50
  transform: translateY(-50%)

%center-xy
  @extend %left-50
  @extend %top-50
  transform: translateX(-50%) translateY(-50%)

// Box models
// ========================================

@each $zero in $zeros
  .#{$zero}-0,
  %#{$zero}-0
    #{$zero}: 0

.margin-auto,
%margin-auto
  margin: 0 auto

// Baseline surgical classes
// ========================================

@each $baseline, $i in $baselines

  %line-height-#{$baseline}
    +rem(line-height, $i)
    
  @if $baseline == base

    .margin-bottom,
    %margin-bottom
      +rem(margin-bottom, $i)

    .margin-top,
    %margin-top
      +rem(margin-top, $i)

    .padding-bottom,
    %padding-bottom
      +rem(padding-bottom, $i)

    .padding-top,
    %padding-top
      +rem(padding-top, $i)

  @else

    .margin-bottom-#{$baseline},
    %margin-bottom-#{$baseline}
      +rem(margin-bottom, $i)

    .margin-top-#{$baseline},
    %margin-top-#{$baseline}
      +rem(margin-top, $i)

    .padding-bottom-#{$baseline},
    %padding-bottom-#{$baseline}
      +rem(padding-bottom, $i)

    .padding-top-#{$baseline},
    %padding-top-#{$baseline}
      +rem(padding-top, $i)

// Gutter surgical classes
// ========================================

@each $gutter, $i in $gutters
  @if $gutter == base

    .margin-left,
    %margin-left
      +rem(margin-left, $i)

    .margin-right,
    %margin-right
      +rem(margin-right, $i)

    .padding-left,
    %padding-left
      +rem(padding-left, $i)

    .padding-right,
    %padding-right
      +rem(padding-right, $i)

  @else

    .margin-left-#{$gutter},
    %margin-left-#{$gutter}
      +rem(margin-left, $i)

    .margin-right-#{$gutter},
    %margin-right-#{$gutter}
      +rem(margin-right, $i)

    .padding-left-#{$gutter},
    %padding-left-#{$gutter}
      +rem(padding-left, $i)

    .padding-right-#{$gutter},
    %padding-right-#{$gutter}
      +rem(padding-right, $i)

// Full boxes
// ========================================

.padding-gutters,
%padding-gutters
  @extend %padding-right
  @extend %padding-left

.padding-gutters-half,
%padding-gutters-half
  @extend %padding-right-half
  @extend %padding-left-half
  
.padding-baselines,
%padding-baselines
  @extend %padding-top
  @extend %padding-bottom

.padding-box,
%padding-box
  @extend %padding-gutters
  @extend %padding-baselines

.margin-gutters,
%margin-gutters
  @extend %margin-right
  @extend %margin-left

.margin-gutters-half,
%margin-gutters-half
  @extend %margin-right-half
  @extend %margin-left-half
  
.margin-baselines,
%margin-baselines
  @extend %margin-top
  @extend %margin-bottom

.margin-box,
%margin-box
  @extend %margin-gutters
  @extend %margin-baselines

// Grid system
// ========================================

.grid,
%grid
  @extend %list-none
  +rem(letter-spacing, -4px)

.opera:-o-prefocus,
.grid
  +rem(word-spacing, -5px)

.grid-col,
%grid-col
  @extend %display-inline-block
  *display: inline
  letter-spacing: normal
  @extend %vertical-align-top
  @extend %white-space-normal
  zoom: 1

// Grid widths
// ========================================

$columns: 12

// Counting down from 12, for 12 columns
@while 1 <= $columns
  
  // Counting up to the given potential number of columns in a given row
  @for $column from 1 to $columns
  
    // Extend multiples of 2, 3, 5, or compile the class
    @if ($column % 2 == 0) and ($columns % 2 == 0)
    
      .grid-#{$column}-#{$columns},
      %grid-#{$column}-#{$columns}
        @extend %grid-#{$column/2}-#{$columns/2}
    
    @else if ($column % 3 == 0) and ($columns % 3 == 0)
    
      .grid-#{$column}-#{$columns},
      %grid-#{$column}-#{$columns}
        @extend %grid-#{$column/3}-#{$columns/3}

    @else if ($column % 5 == 0) and ($columns % 5 == 0)
    
      .grid-#{$column}-#{$columns},
      %grid-#{$column}-#{$columns}
        @extend %grid-#{$column/5}-#{$columns/5}
        
    @else
  
      .grid-#{$column}-#{$columns},
      %grid-#{$column}-#{$columns}
        width: ($column/$columns) * 100%
    
  $columns: $columns - 1

.grid-1-1,
%grid-1-1
  width: 100%
