@each $breakpoint in $breakpoints {
  $breakpoint-name: nth($breakpoint, 1);
  $breakpoint-value: nth($breakpoint, 2);

  @media (min-width: $breakpoint-value) {
    @each $baseline in $baselines {
      $name:  nth($baseline, 1);
      $value: nth($baseline, 2);

      .#{$breakpoint-name}-m-#{$name}  { margin-top: $value; margin-bottom: $value }
      .#{$breakpoint-name}-mt-#{$name} { margin-top: $value }
      .#{$breakpoint-name}-mr-#{$name} { margin-right: $value }
      .#{$breakpoint-name}-mb-#{$name} { margin-bottom: $value }
      .#{$breakpoint-name}-ml-#{$name} { margin-left: $value }
      .#{$breakpoint-name}-mx-#{$name} { margin-left: $value; margin-right: $value }
      .#{$breakpoint-name}-my-#{$name} { margin-top: $value; margin-bottom: $value }
      .#{$breakpoint-name}-mn-#{$name} { margin-left: -$value; margin-right: -$value }
    }

    // Defaults
    .#{$breakpoint-name}-m    { margin: $baseline-base $gutter }
    .#{$breakpoint-name}-m-h  { margin: $baseline-base $gutter-half }
    .#{$breakpoint-name}-mn   { margin-left: -$gutter; margin-right: -$gutter }
    .#{$breakpoint-name}-mn-h { margin-left: -$gutter-half; margin-right: -$gutter-half }
    .#{$breakpoint-name}-ml   { margin-left: $gutter }
    .#{$breakpoint-name}-ml-h { margin-left: $gutter-half }
    .#{$breakpoint-name}-mr   { margin-right: $gutter }
    .#{$breakpoint-name}-mr-h { margin-right: $gutter-half }
    .#{$breakpoint-name}-mt   { margin-top: $baseline-base }
    .#{$breakpoint-name}-mb   { margin-bottom: $baseline-base }

    .#{$breakpoint-name}-mx   { margin-left: $gutter; margin-right: $gutter }
    .#{$breakpoint-name}-mx-h { margin-left: $gutter-half; margin-right: $gutter-half }
    .#{$breakpoint-name}-my   { margin-top: $baseline-base; margin-bottom: $baseline-base }
  }
}
