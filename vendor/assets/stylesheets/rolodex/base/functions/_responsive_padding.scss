@each $breakpoint in $breakpoints {
  $breakpoint-name: nth($breakpoint, 1);
  $breakpoint-value: nth($breakpoint, 2);

  @media (min-width: $breakpoint-value) {
    @each $baseline in $baselines {
      $name:  nth($baseline, 1);
      $value: nth($baseline, 2);

      .#{$breakpoint-name}-p-#{$name}  { margin-top: $value; margin-bottom: $value }
      .#{$breakpoint-name}-pt-#{$name} { margin-top: $value }
      .#{$breakpoint-name}-pr-#{$name} { margin-right: $value }
      .#{$breakpoint-name}-pb-#{$name} { margin-bottom: $value }
      .#{$breakpoint-name}-pl-#{$name} { margin-left: $value }
      .#{$breakpoint-name}-px-#{$name} { margin-left: $value; margin-right: $value }
      .#{$breakpoint-name}-py-#{$name} { margin-top: $value; margin-bottom: $value }
      .#{$breakpoint-name}-pn-#{$name} { margin-left: -$value; margin-right: -$value }
    }

    // Defaults
    .#{$breakpoint-name}-p    { margin: $baseline-base $gutter }
    .#{$breakpoint-name}-p-h  { margin: $baseline-base $gutter-half }
    .#{$breakpoint-name}-pn   { margin-left: -$gutter; margin-right: -$gutter }
    .#{$breakpoint-name}-pn-h { margin-left: -$gutter-half; margin-right: -$gutter-half }
    .#{$breakpoint-name}-pl   { margin-left: $gutter }
    .#{$breakpoint-name}-pl-h { margin-left: $gutter-half }
    .#{$breakpoint-name}-pr   { margin-right: $gutter }
    .#{$breakpoint-name}-pr-h { margin-right: $gutter-half }
    .#{$breakpoint-name}-pt   { margin-top: $baseline-base }
    .#{$breakpoint-name}-pb   { margin-bottom: $baseline-base }

    .#{$breakpoint-name}-px   { margin-left: $gutter; margin-right: $gutter }
    .#{$breakpoint-name}-px-h { margin-left: $gutter-half; margin-right: $gutter-half }
    .#{$breakpoint-name}-py   { margin-top: $baseline-base; margin-bottom: $baseline-base }
  }
}
